webpackJsonp([45,46],{281:function(e,t,o){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=o(7),n=i(a),r=o(6),s=o(20),A=o(23),l=o(422),c=i(l);t.default={data:function(){return{inputVaule:"",city:null,cityid:"",cityname:"",stores:[],selectStores:[],total:36705325,placeHistory:[],historytitle:!0,placeNone:!1}},mounted:function(){this.initData()},components:{},computed:{},methods:(0,n.default)({},(0,r.mapMutations)(["RECORD_ADDRESS","ADD_CART","REDUCE_CART","CLEAR_CART","RECORD_SHOPDETAIL"]),{initData:function(){(0,A.getStore)("placeHistory")?this.stores=JSON.parse((0,A.getStore)("placeHistory")):this.stores=[],(0,A.getStore)("city")?this.city=JSON.parse((0,A.getStore)("city")):this.$router.push({path:"/home"})},postpois:(0,c.default)(function(e){if(e&&" "!=e){console.log(e);var t=this.city.cityName;this.searchStore(t,e)}},1e3),searchStore:function(e,t){var o=this;console.log(e,t),(0,s.searchplace)(e,t).then(function(i){console.log(i),i.status!=-1&&(o.stores=i.stores,o.total=o.stores.length,o.placeNone=i.pageSize*(i.pageNo+1)>i.total,(0==i.stores.length||i.stores.length<5)&&setTimeout(function(){o.searchStore(e,t)},3e3))})},nextpage:function(e,t){this.$router.push({path:"/confirmOrder",query:{ids:t}})},active:function(e,t){this.selectStores.indexOf(e.id)==-1?this.selectStores.push(e.id):this.selectStores.splice(this.selectStores.indexOf(e.id),1),console.log(this.selectStores)},clearAll:function(){(0,A.removeStore)("placeHistory"),this.initData()}})}},377:function(e,t,o){t=e.exports=o(2)(),t.push([e.id,".button_container[data-v-0b97e5f4]{position:fixed;bottom:0;left:0;right:0;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:end;-ms-flex-align:end;align-items:flex-end;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;background-color:#fff;padding:.4rem 0}.button_container .button[data-v-0b97e5f4]{width:90%;height:auto;font-size:.6rem;color:#fff;text-align:center;padding:.4rem 0;border-radius:.2rem;margin:0 1rem}.button_container .button.orange[data-v-0b97e5f4]{background-color:#ff6d40}.button_container .button.red[data-v-0b97e5f4]{background-color:#fc3c3f}.city_container[data-v-0b97e5f4]{padding-top:2rem;padding-bottom:2rem}.change_city[data-v-0b97e5f4]{right:.4rem;font-size:.6rem;color:#fff;position:absolute;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.city_form[data-v-0b97e5f4]{position:fixed;z-index:100;left:0;top:0;width:100%;height:1.95rem;background-color:#fff;border-top:1px solid #e4e4e4;border-bottom:1px solid #e4e4e4;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;font-size:.65rem;color:#333}.city_form .button_style[data-v-0b97e5f4]{margin:.4rem}.city_form .input_style[data-v-0b97e5f4]{border-radius:.1rem;margin:.4rem 0;width:100%;height:1.4rem}.city_form .city_input[data-v-0b97e5f4]{-webkit-box-flex:1;-ms-flex:1;flex:1;border:1px solid #e4e4e4;padding:0 .3rem;font-size:.65rem;color:#333}.city_form .city_submit[data-v-0b97e5f4]{background-color:#3190e8;font-size:.65rem;color:#fff}.pois_search_history[data-v-0b97e5f4]{border-top:1px solid #e4e4e4;border-bottom:1px solid #e4e4e4;padding-left:.5rem;font:.475rem/.8rem Microsoft YaHei}.getpois_ul[data-v-0b97e5f4]{background-color:#fff;border-top:1px solid #e4e4e4;overflow:hidden}.getpois_ul li[data-v-0b97e5f4]{margin:0 auto;border-bottom:1px solid #e4e4e4;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;text-align:center;padding:.5rem 0}.getpois_ul li img[data-v-0b97e5f4]{width:3rem;height:3rem}.getpois_ul li .add_icon[data-v-0b97e5f4]{padding:0 .4rem}.getpois_ul li .add_icon svg[data-v-0b97e5f4]{margin-top:1rem;width:.85rem;height:.85rem;fill:#ccc}.getpois_ul li .add_icon svg.active[data-v-0b97e5f4]{fill:#fc3c3f}.getpois_ul li .pois_detail[data-v-0b97e5f4]{-webkit-box-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;text-align:start}.getpois_ul li .pois_detail .pois_name[data-v-0b97e5f4]{margin:0 auto .35rem;width:90%;font-size:.65rem;color:#333}.getpois_ul li .pois_detail .pois_name .store_status[data-v-0b97e5f4]{background-color:#fc3c3f;font-size:.4rem;color:#fff;padding:0 .1rem .1rem}.getpois_ul li .pois_detail .pois_name .store_status.green[data-v-0b97e5f4]{background-color:#5ddb44}.getpois_ul li .pois_detail .pois_name .store_status.red[data-v-0b97e5f4]{background-color:#fc3c3f}.getpois_ul li .pois_detail .pois_address[data-v-0b97e5f4]{width:90%;margin:0 auto .55rem;font-size:.45rem;color:#999}.search_none_place[data-v-0b97e5f4]{margin:0 auto;font:.65rem/1.75rem Microsoft YaHei;color:#333;background-color:#fff;text-indent:.5rem}.clear_all_history[data-v-0b97e5f4]{font-size:.7rem;color:#666;text-align:center;line-height:2rem;background-color:#fff}body[data-v-0b97e5f4]{background-color:#fff!important}","",{version:3,sources:["/./src/page/city/city.vue"],names:[],mappings:"AAGA,mCAAmC,eAAe,SAAS,OAAO,QAAQ,oBAAoB,AAAqB,oBAAoB,aAAa,sBAAsB,AAA6B,mBAAmB,qBAAqB,wBAAwB,AAA+B,qBAAqB,uBAAuB,sBAAsB,eAAe,CACtX,AACD,2CAA2C,UAAU,YAAY,gBAAgB,WAAW,kBAAkB,gBAAgB,oBAAoB,aAAa,CAC9J,AACD,kDAAkD,wBAAwB,CACzE,AACD,+CAA+C,wBAAwB,CACtE,AACD,iCAAiC,iBAAiB,mBAAmB,CACpE,AACD,8BAA8B,YAAa,gBAAgB,WAAW,kBAAkB,QAAQ,mCAAmC,AAA+B,0BAA0B,CAC3L,AACD,4BAA4B,eAAe,YAAY,OAAO,MAAM,WAAW,eAAe,sBAAsB,6BAA6B,gCAAgC,oBAAoB,AAAqB,oBAAoB,aAAa,yBAAyB,AAA2B,sBAAsB,mBAAmB,wBAAwB,AAA+B,qBAAqB,uBAAuB,iBAAiB,UAAU,CACrd,AACD,0CAA0C,YAAa,CACtD,AACD,yCAAyC,oBAAqB,eAAgB,WAAW,aAAa,CACrG,AACD,wCAAwC,mBAAmB,AAAe,WAAW,OAAO,yBAAyB,gBAAiB,iBAAiB,UAAU,CAChK,AACD,yCAAyC,yBAAyB,iBAAiB,UAAU,CAC5F,AACD,sCAAsC,6BAA6B,gCAAgC,mBAAoB,kCAAqC,CAC3J,AACD,6BAA6B,sBAAsB,6BAA6B,eAAe,CAC9F,AACD,gCAAgC,cAAc,gCAAgC,oBAAoB,AAAqB,oBAAoB,aAAa,8BAA8B,6BAA6B,AAA2B,uBAAuB,mBAAmB,kBAAkB,eAAe,CACxT,AACD,oCAAoC,WAAW,WAAW,CACzD,AACD,0CAA0C,eAAe,CACxD,AACD,8CAA8C,gBAAgB,aAAa,cAAc,SAAS,CACjG,AACD,qDAAqD,YAAY,CAChE,AACD,6CAA6C,mBAAmB,AAAe,WAAW,OAAO,oBAAoB,AAAqB,oBAAoB,aAAa,4BAA4B,6BAA6B,AAA8B,0BAA0B,sBAAsB,wBAAwB,AAA+B,qBAAqB,uBAAuB,gBAAgB,CACpa,AACD,wDAAwD,qBAAsB,UAAU,iBAAiB,UAAU,CAClH,AACD,sEAAsE,yBAAyB,gBAAgB,WAAW,qBAA8B,CACvJ,AACD,4EAA4E,wBAAwB,CACnG,AACD,0EAA0E,wBAAwB,CACjG,AACD,2DAA2D,UAAU,qBAAsB,iBAAiB,UAAU,CACrH,AACD,oCAAoC,cAAc,oCAAuC,WAAW,sBAAsB,iBAAkB,CAC3I,AACD,oCAAoC,gBAAgB,WAAW,kBAAkB,iBAAiB,qBAAqB,CACtH,AACD,sBAAsB,+BAAgC,CACrD",file:"city.vue",sourcesContent:['\nbody[data-v-0b97e5f4]{background-color:#fff !important\n}\n.button_container[data-v-0b97e5f4]{position:fixed;bottom:0;left:0;right:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:end;-webkit-align-items:flex-end;-ms-flex-align:end;align-items:flex-end;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;background-color:#fff;padding:.4rem 0\n}\n.button_container .button[data-v-0b97e5f4]{width:90%;height:auto;font-size:.6rem;color:#fff;text-align:center;padding:.4rem 0;border-radius:.2rem;margin:0 1rem\n}\n.button_container .button.orange[data-v-0b97e5f4]{background-color:#ff6d40\n}\n.button_container .button.red[data-v-0b97e5f4]{background-color:#fc3c3f\n}\n.city_container[data-v-0b97e5f4]{padding-top:2rem;padding-bottom:2rem\n}\n.change_city[data-v-0b97e5f4]{right:0.4rem;font-size:.6rem;color:#fff;position:absolute;top:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%)\n}\n.city_form[data-v-0b97e5f4]{position:fixed;z-index:100;left:0;top:0;width:100%;height:1.95rem;background-color:#fff;border-top:1px solid #e4e4e4;border-bottom:1px solid #e4e4e4;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;font-size:.65rem;color:#333\n}\n.city_form .button_style[data-v-0b97e5f4]{margin:0.4rem\n}\n.city_form .input_style[data-v-0b97e5f4]{border-radius:0.1rem;margin:0.4rem 0;width:100%;height:1.4rem\n}\n.city_form .city_input[data-v-0b97e5f4]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;border:1px solid #e4e4e4;padding:0 0.3rem;font-size:.65rem;color:#333\n}\n.city_form .city_submit[data-v-0b97e5f4]{background-color:#3190e8;font-size:.65rem;color:#fff\n}\n.pois_search_history[data-v-0b97e5f4]{border-top:1px solid #e4e4e4;border-bottom:1px solid #e4e4e4;padding-left:0.5rem;font:0.475rem/.8rem "Microsoft YaHei"\n}\n.getpois_ul[data-v-0b97e5f4]{background-color:#fff;border-top:1px solid #e4e4e4;overflow:hidden\n}\n.getpois_ul li[data-v-0b97e5f4]{margin:0 auto;border-bottom:1px solid #e4e4e4;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;text-align:center;padding:.5rem 0\n}\n.getpois_ul li img[data-v-0b97e5f4]{width:3rem;height:3rem\n}\n.getpois_ul li .add_icon[data-v-0b97e5f4]{padding:0 .4rem\n}\n.getpois_ul li .add_icon svg[data-v-0b97e5f4]{margin-top:1rem;width:.85rem;height:.85rem;fill:#ccc\n}\n.getpois_ul li .add_icon svg.active[data-v-0b97e5f4]{fill:#fc3c3f\n}\n.getpois_ul li .pois_detail[data-v-0b97e5f4]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;text-align:start\n}\n.getpois_ul li .pois_detail .pois_name[data-v-0b97e5f4]{margin:0 auto 0.35rem;width:90%;font-size:.65rem;color:#333\n}\n.getpois_ul li .pois_detail .pois_name .store_status[data-v-0b97e5f4]{background-color:#fc3c3f;font-size:.4rem;color:#fff;padding:0rem .1rem .1rem .1rem\n}\n.getpois_ul li .pois_detail .pois_name .store_status.green[data-v-0b97e5f4]{background-color:#5ddb44\n}\n.getpois_ul li .pois_detail .pois_name .store_status.red[data-v-0b97e5f4]{background-color:#fc3c3f\n}\n.getpois_ul li .pois_detail .pois_address[data-v-0b97e5f4]{width:90%;margin:0 auto 0.55rem;font-size:.45rem;color:#999\n}\n.search_none_place[data-v-0b97e5f4]{margin:0 auto;font:0.65rem/1.75rem "Microsoft YaHei";color:#333;background-color:#fff;text-indent:0.5rem\n}\n.clear_all_history[data-v-0b97e5f4]{font-size:.7rem;color:#666;text-align:center;line-height:2rem;background-color:#fff\n}\nbody[data-v-0b97e5f4]{background-color:#fff !important\n}\n'],sourceRoot:"webpack://"}])},422:function(e,t){e.exports=function(e,t,o){function i(){var l=Date.now()-s;l<t&&l>=0?a=setTimeout(i,t-l):(a=null,o||(A=e.apply(r,n),r=n=null))}var a,n,r,s,A;null==t&&(t=100);var l=function(){r=this,n=arguments,s=Date.now();var l=o&&!a;return a||(a=setTimeout(i,t)),l&&(A=e.apply(r,n),r=n=null),A};return l.clear=function(){a&&(clearTimeout(a),a=null)},l}},436:function(e,t,o){var i=o(377);"string"==typeof i&&(i=[[e.id,i,""]]);o(4)(i,{});i.locals&&(e.exports=i.locals)},765:function(e,t,o){o(436);var i=o(3)(o(281),o(806),"data-v-0b97e5f4",null);e.exports=i.exports},806:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"city_container"},[o("form",{staticClass:"city_form",on:{submit:function(e){e.preventDefault()}}},[o("router-link",{staticClass:"change_city_right button_style",attrs:{to:"/home"},slot:"changecity"},[e._v("\n              "+e._s(e.city?e.city.cityName:"上海")+"\n          ")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.inputVaule,expression:"inputVaule"}],staticClass:"city_input input_style",attrs:{type:"search",name:"city",placeholder:"请输入要搜索订阅的门店名称"},domProps:{value:e.inputVaule},on:{input:[function(t){t.target.composing||(e.inputVaule=t.target.value)},function(t){e.postpois(e.inputVaule)}]}}),e._v(" "),o("div",{staticClass:"head_back_left button_style",on:{click:function(t){e.$router.go(-1)}}},[e._v("返回")])],1),e._v(" "),e.historytitle?o("header",{staticClass:"pois_search_history"},[e._v("共"+e._s(e._f("currency")(e.total,"",0))+"条")]):e._e(),e._v(" "),o("ul",{staticClass:"getpois_ul"},e._l(e.stores,function(t,i){return o("li",{key:i,on:{click:function(o){e.active(t,i)}}},[o("a",{staticClass:"add_icon"},[o("svg",{class:{active:e.selectStores.indexOf(t.id)>-1},on:{touchstart:function(e){}}},[o("use",{attrs:{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#select"}})])]),e._v(" "),o("img",{attrs:{src:t.defaultPic}}),e._v(" "),o("div",{staticClass:"pois_detail"},[o("h4",{staticClass:"pois_name ellipsis"},[e._v("\n                      "+e._s(t.name)+" "+e._s(t.branchName)+"\n                      "),0==t.status?o("span",{staticClass:"store_status green"},[e._v("开业")]):e._e(),e._v(" "),0!=t.status?o("span",{staticClass:"store_status red"},[e._v("停业")]):e._e()]),e._v(" "),o("p",{staticClass:"pois_address ellipsis"},[e._v("\n                  "+e._s(t.priceText)+"  "+e._s(t.regionName)+"  \n                  "+e._s(e.selectStores.indexOf(t.id)>-1?"id:"+t.id:"")+" ")])])])})),e._v(" "),e.historytitle&&e.stores.length?o("footer",{staticClass:"clear_all_history",on:{click:e.clearAll}},[e._v("清空所有")]):e._e(),e._v(" "),e.placeNone?o("div",{staticClass:"search_none_place"},[e._v("很抱歉！无搜索结果")]):e._e(),e._v(" "),o("div",{staticClass:"button_container"},[o("a",{staticClass:"button orange"},[e._v("全选")]),e._v(" "),o("a",{staticClass:"button red",on:{click:function(t){e.nextpage(2,e.selectStores)}}},[e._v("去订阅")])])])},staticRenderFns:[]}}});